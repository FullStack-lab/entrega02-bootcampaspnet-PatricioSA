@model List<Forun.Models.Comment>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
</head>
<body>
    <div>
        <h1>Comentários</h1>

        @foreach (var comment in Model)
        {
            <div>
                <h3>@comment.Author</h3>
                <p>@comment.Content</p>
                <p><small>@comment.CreatedAt</small></p>
            </div>

            @Html.ActionLink("Responder comentário", "CreateComment", new { parentId = comment.Id })
            @Html.ActionLink("Editar comentário", "EditComment", new { id = comment.Id })

            <ul>
                @foreach (var reply in comment.Replies)
                {
                    <li>
                        <strong>@reply.Author:</strong> @reply.Content
                    </li>
                }
            </ul>
        }

        @Html.ActionLink("Criar comentário", "CreateComment")
    </div>
</body>
</html>
